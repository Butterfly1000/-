并发
并发，在操作系统中，是指一个时间段中有几个程序都处于已启动运行到运行完毕之间，而这几个程序都是在同一个处理机上运行，
但任何时刻点只有一个程序在处理机上运行。

上面的看看就好了。

互联网时代，所讲的高并发，通常是指并发访问，也就是在某个时间点，有多少个访问同时到来。

通常如果一个系统的日PV在千万以上，有可能是一个高并发系统。

知识点
QPS：每秒钟请求或者查询的数量，在互联网领域，指每秒响应请求数（指HTTP请求数）
吞吐量:单位时间内处理的请求数量(通常由QPS和并发数决定)
响应时间：从请求发出到收到响应花费的时间。例如系统处理的是一个HTTP请求需要100ms，这个100ms就是系统的响应时间。

PV：综合浏览量(Page View),即页面浏览量或者点击量，一个访客在24小时访问的页面数量。
同一个人浏览你的网站同一个页面，只记做一次PV（所以刷新无效）

UV:独立访客(UniQue Visitor),一般更近ip进行辨识，所以一定时间范围内一个相同访问客多次访问网站，只算一个独立访客。

日网站带宽=PV/统计数据（换算到秒）*平均页面大小（单位KB）*8
#网络带宽是指在单位时间(一般指的是1秒钟)内能传输的数据量。网络和高速公路类似，带宽越大，就类似高速公路的车道越多，其通行能力越强。

峰值一般是平均值得倍数，根据实际情况而定

QPS不等于并发连接数
QPS是每秒的HTTP请求数量
并发连接数是系统同时处理的请求数量

（总PV数*80%）/(6小时秒数*20%)=峰值每秒请求数(QPS)
80%的访问量集中在20%的时间

峰值可以作为我们的一个优化参照

对于并发，应该要注意的：
1.压力测试
测试能承受的最大并发
测试最大承受的QPS

压力测试的工具很多，这边我们介绍一款常用的压力测试工具，apache自带的ab压力测试工具，这一款工具测试目标是基于URL，所以可以运用于
对nginx，IIS等web服务器的压力测试。
如果有下载apache的小伙伴么，apache里面有自带的这款工具。windows环境下直接到apache，bin目录下运行ab.exe
>ab
>ab -n 5000 -c 100  (n代表访问次数，c代表并发数)
而nginx系统则需要自行下载ab，yum -y install http-tools，操作和上面一样。
执行结束后ab会给发一份测试报告。

常用压力测试工具：
ab，wrk，http_load,Web Bench,Siege,Apache JMeter;

注意：
1.测试机与被测试机分开（会有一定影响）。
2.别再正式机（线上服务）上做压力测试，有崩溃风险。
3.观察测试工具ab所在的服务器，以及被测试的前端机器CPU,内存，网络等都不超过最大限制的75%；

QPS达到极限
随着QPS增长，每个阶段需要根据实际的情况进行优化，优化的方案也与硬件条件、网络带宽息息相关。

QPS<=50
可以称为小型网站，一般的服务器就可以应付。

QPS达到100
假设关系型数据库的每次请求在0.01秒完成，
假设单页面只有一个SQL查询，那么100QPS意味着一秒完成100次请求，但此时我们必不能保障1s数据库能完成100次查询。
（1s请求100次，但数据库回应请求并无法保障这么快）
方案：数据库缓存层、数据库的均衡负载

QPS达到800


